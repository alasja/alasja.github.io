---
title: "1.2符号及定义"
keywords: sample homepage
tags: [getting_started]
sidebar: rtr
layout: book
permalink: rtr_ch1_notation.html
summary: RTR第一章1.2，各个符号的描述及一些定义的讲解。
---

首先，我们得解释下本书用到的数学符号，更详尽的解释请查看附录A。

## 1.2.1 数学符号
表1.1列出了我们会用到的大部分数学符号。部分概念我们会在后面详细说明。

![table1.1](/images/table1_1.png)

角度跟缩放使用$R$，他们是实数。向量和点表示成小写粗体字母，表示成这样：

<font size="4">$$
v = \begin{pmatrix} v_x \\ v_y \\ v_z \end{pmatrix}
$$</font>

这被称为列向量模式，是现在计算机图形学(一下简称CG)领域通用的方式。有些时候因为易读的原因，我们会用$(v_x, v_y, v_z)$来代替正式的$(v_x, v_y, v_z)^T$形式。

在齐次坐标中(详见附录A.4)，坐标表示成$v = (v_x\ v_y\ v_z\ v_w)^T$， 向量表示为$v = (v_x\ v_y\ v_z\ 0)^T$，坐标点则是$v = (v_x\ v_y\ v_z\ 1)^T$。有时候我们只用三个元素来表示向量和点，但是我们尽可能统一各种用法。对矩阵操作来说，统一向量和点的符号非常有用(参考第四章变换)。有些算法中，也会使用下标索引来代替xyz,如$v = (v_0\ v_1\ v_2)^T$。这些规则对2维向量同样适用，区别仅仅是少了第三个元素。


矩阵很重要，值当更详细的说明。一般来说，矩阵的大小主要为2 x 2, 3 x 3和 4 x 4。我们会学习如何操作3x3的矩阵M，其他大小的矩阵的操作方法类似。M的各个元素标记为$m_{ij}, 0 \le (i, j) \le 2$，i表示行，j表示列，如等式1.2：

<font size="4">$$
M = \begin{pmatrix} m_{00} & m_{01} & m_{02} \\ m_{10} & m_{11} & m_{12} \\ m_{20} & m_{21} & m_{22} \end{pmatrix}.  \tag {1.2}
$$</font>

等式1.3的符号，一般用来分离表示矩阵M的向量：$m_{,j}$表示第j列向量，$m_{i,}$表示第i行向量(列模式)。对于向量和坐标点，列向量还可以用xyz来标记，以及可能的w。

<font size="4">$$
M = (m_{,0} \ m_{,1} \ m_{,2}) = (m_x \ m_y \ m_z) = \begin{pmatrix}m_{0,}^T \\ m_{1,}^T \\ m_{2,}^T \end{pmatrix}.  \tag {1.3} 
$$</font>

平面表示为：$\pi : \mathbf{n} \cdot x + d$，这个符号里包含了它自己的数学形式，平面法线$\mathbf{n}$以及标量$d$。法向量描述平面的朝向。更多的情况是法向量描述面片上点的朝向。平面的朝向由它的所有顶点的朝向来决定。$\pi$是平面的数学符号。平面$\pi$表示把空间分成了两个部分，正半空间$\\mathbf{n} \cdot x + d > 0$，以及负半空间$\\mathbf{n} \cdot x + d < 0$。空间中其他的点就组成了这个平面。

三角形可以用三个点$v_0,v_1,v_2$来表示，记作$\triangle v_0v_1v_2$。

表1.2列出了一些其他的数学操作符号。点积、叉乘以及行列式，更多操作符号参见附录A。转置操作能把列向量跟行向量互相变换。因此我们可以把列向量写成水平的方式，如$v = (v_x\ v_y \ v_z)^T$。第四个操作符$\bigotimes$有点特别，$\mathbf{u} \bigotimes \mathbf{v}$结果为$(u_xv_x \ u_yv_y \ u_zv_z)^T$。就是两个向量的各个分量相乘，得到结果向量个各分量。<font color="tomato">这个操作符主要用于颜色向量操作。</font>操作符5在《Graphics Gems IV》中有介绍，是对2维向量的一元操作符。它的结果是向量的垂直向量。例如对于$v = (v_x \ v_y)^T$, $v^{\bot} = (-v_y \ v_x)^T$。

我们使用$|a|$表示标量a的绝对值，而$| \mathbf{A} |$表示矩阵$\mathbf{A}$的行列式。有时候我们也这么写：$| \mathbf{A} | = |a\ b\ c| = det(a,b,c)$，其中$a,b,c$分别表示矩阵的列向量。第九个操作符是阶乘。它的定义如下：注意0！= 1
<font size="4">$$
n! = n(n-1)(n-2)\cdots 3 \cdot 2 \cdot 1 \tag{1.4}
$$</font>

第十个操作符被称为二项式因子，如等式1.5：
<font size="4">$$
\binom{n}{k} = \frac{n!}{k!(n-k)!} \tag{1.5}
$$
</font>

|  | 操作符 | 描述 |
|:---|:------------:|:----|
|1:  | $\cdot $    |点积
|2:  | $x$         |叉乘
|3:  | $v^T$       |转置
|4:  | $\bigotimes$|按位乘
|5:  | $\bot$      |一元操作，求垂直线
|6:  | $\| \cdot \|$ |矩阵行列式
|7:  | $\| \cdot \|$ |标量的绝对值
|8:  | $\|\| \cdot \|\|$ |参数的长度或规范化形式
|9:  | $n!$        |阶乘
|10: | $\binom{n}{k}$  |二项式因子


接下来，我们把$x = 0, y = 0, 及 z = 0$称为坐标平面，或轴平面。轴向量分别是$\mathbf{e}_x = (1\ 0\ 0)^T, \mathbf{e}_y = (0\ 1\ 0)^T, \mathbf{e}_z = (0\ 0\ 1)^T$, 他们也叫主轴、主方向。这三个轴也被称为<font color="tomato">标准基</font>。除非特意说明，否则我们都使用标准正交基（就是相互垂直的单位向量，参见附录A.3.1。

范围符号[a,b]表示包括a和b及他们之间的所有数。(a,b)则不包括a和b。这两种方式可以组合使用，比如[a,b)。则包括a不包括b。

c函数`atan2(y,x)`会使用的比较频繁，所以我们要多说几句。它是函数`arctan(x)`的扩展。主要的区别在于取值范围，如下：$-\frac{\pi}{2}\lt arctan(x) \lt \frac{\pi}{2}$，$0 \le atan2(y,x) \lt 2\pi$。atan2增加了额外的参数，要注意该参数不能为0。因为arctan(x)中的x 为 atan2(y,x)中的 y/x。后者的x不可为0。（译注，从取值范围可以看出，$atan2(y,x）= 2 * arctan(y/x) + \pi$）


|  | 函数 | 描述 |
|:---|:------------:|:----|
|1:  | atan2(y,x)    |两倍的arctangent
|2:  | $\overline{cos}(\theta)$        |截断的cosine
|3:  | $log(n)$       |自然对数

表1.3 一些特别的数学函数

截断的cosine意思是，当cosine返回值小于0的时候，就返回0。在本书中log(n)，表示的是自然对数$log_e(n)$，而不是10为底的对数$long_{10}(n)$。

我们使用右手坐标系（参见附录A.2），这在CG领域是3D系统的标准坐标系。

颜色也表示为有三个元素的向量，例如(red, green, blue)，每个分量的取值范围是[0, 1]。


## 1.2.2 几何定义
主流GPU使用的基本渲染图元是点线和三角形。

在本书中，几何元素的集合被称为模型或者对象。场景则包含了模型组成的整个要被绘制的环境。场景也会包括材质描述、光照跟可视范围定义。

对象是车子、建筑甚至一条线。实践中，对象基本就是一堆图元的集合体，但也不尽然，有时候它可能包含更高级的表现，例如贝塞尔曲线、面，子面片等等。对象也可以包含别的对象，比方车的门可以是个单独的对象。


## 更多内容
最重要的资源我们都放在[这个网站](http://www.realtimerendering.com)了。它包含了各章的最新信息。实时渲染领域的变化跟实时渲染似的，几乎是实时变化。在这本书里，我们主要讨论那些目前看起来不太会过时的基础原则及技术的概念。在我们的网站上，我们可以保持更新最新的信息。










